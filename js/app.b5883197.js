(function(t){function e(e){for(var a,r,o=e[0],l=e[1],c=e[2],u=0,p=[];u<o.length;u++)r=o[u],Object.prototype.hasOwnProperty.call(n,r)&&n[r]&&p.push(n[r][0]),n[r]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);d&&d(e);while(p.length)p.shift()();return i.push.apply(i,c||[]),s()}function s(){for(var t,e=0;e<i.length;e++){for(var s=i[e],a=!0,o=1;o<s.length;o++){var l=s[o];0!==n[l]&&(a=!1)}a&&(i.splice(e--,1),t=r(r.s=s[0]))}return t}var a={},n={app:0},i=[];function r(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=t,r.c=a,r.d=function(t,e,s){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(s,a,function(e){return t[e]}.bind(null,a));return s},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/vuex-deux/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var d=l;i.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"3e9f":function(t,e,s){},"56d7":function(t,e,s){"use strict";s.r(e);s("c740"),s("a434"),s("b0c0"),s("e260"),s("e6cf"),s("cca6"),s("a79d");var a=s("2b0e"),n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("Navigation",{attrs:{title:"Vuex Deux",searchbar:"true"}}),s("div",{staticClass:"container-fluid"},[s("div",{staticClass:"row flex-row flex-nowrap card-holder"},t._l(t.calendar,(function(t,e){return s("ListCard",{key:t.id,attrs:{day:t,showdate:!0,locked:0===e,custom:!1}})})),1)]),s("Navigation",{attrs:{add:"true",toggleable:"true"}}),this.$store.state.drawerOpen?s("div",{staticClass:"container-fluid"},[s("div",{staticClass:"row flex-row flex-nowrap card-holder"},t._l(t.lists,(function(t){return s("ListCard",{key:t.id,attrs:{day:t,showdate:!1,locked:!1,custom:!0}})})),1)]):t._e(),s("FooterBar")],1)},i=[],r=(s("4de4"),s("4160"),s("159b"),s("5530")),o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("nav",{staticClass:"navbar navbar-light bg-light"},[s("a",{staticClass:"navbar-brand"},[t._v(t._s(t.title))]),t.searchbar?s("form",{staticClass:"form-inline"},[s("input",{staticClass:"form-control mr-sm-2",attrs:{type:"search",placeholder:"Search","aria-label":"Search",disabled:""}}),s("button",{staticClass:"btn btn-outline-success my-2 my-sm-0",attrs:{type:"submit",disabled:""}},[t._v("Search")])]):t._e(),t.toggleable?s("button",{staticClass:"btn btn-outline-secondary",on:{click:t.toggleDrawer}},[t._v(" Toggle Drawer ")]):t._e(),t.add?s("button",{staticClass:"btn btn-outline-secondary",on:{click:t.addList}},[t._v(" + Add List ")]):t._e()])},l=[],c={name:"Navigation",props:["title","searchbar","add","toggleable"],methods:{addList:function(){this.$store.dispatch("addList",{id:this.$store.state.lists.length+1,name:"New List",tasks:[]})},toggleDrawer:function(){this.$store.state.drawerOpen=!this.$store.state.drawerOpen}}},d=c,u=s("2877"),p=Object(u["a"])(d,o,l,!1,null,null,null),f=p.exports,h=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},m=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("footer",{staticClass:"footer"},[s("div",{staticClass:"container"},[s("span",{staticClass:"text-muted"},[t._v(" Made with ❤ by "),s("a",{attrs:{href:"https://github.com/dengsauve",target:"_blank"}},[t._v("Dennis Sauvé")])])])])}],g={name:"FooterBar"},v=g,k=(s("ad39"),Object(u["a"])(v,h,m,!1,null,null,null)),y=k.exports,b=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card"},[s("div",{staticClass:"card-body"},[t.editing?t._e():s("h5",{staticClass:"card-title",on:{click:function(e){t.custom&&t.setupEdit(t.day.name)}}},[t._v(" "+t._s(t.day.name)+" "),t.day.isToday?s("small",[t._v("(today)")]):t._e()]),t.editing?s("input",{directives:[{name:"model",rawName:"v-model",value:t.titleString,expression:"titleString"}],ref:"title",staticClass:"h5",domProps:{value:t.titleString},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.saveName(e)},focusout:t.cancelEdit,input:function(e){e.target.composing||(t.titleString=e.target.value)}}}):t._e(),t.showdate&&!t.editing?s("span",[t._v(t._s(t.day.id))]):t._e(),s("draggable",{staticClass:"list-group list-group-flush",attrs:{list:t.list,group:"tasks",tag:"ul"}},t._l(t.list,(function(e){return s("li",{key:e.name,staticClass:"list-group-item grabbable"},[e.completed?s("del",{on:{click:function(s){return t.toggleCompletion(e)}}},[t._v(" "+t._s(e.name)+" ")]):t._e(),e.completed?s("span",{on:{click:function(s){return t.remove(e)}}},[s("TrashCan")],1):s("span",{on:{click:function(s){return t.toggleCompletion(e)}}},[t._v(" "+t._s(e.name)+" ")])])})),0)],1),s("div",{staticClass:"input-group card-footer"},[s("div",{staticClass:"input-group-prepend"},[s("button",{staticClass:"btn btn-outline-secondary",attrs:{disabled:t.locked},on:{click:t.add}},[t._v(" Add ")])]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.newTask,expression:"newTask"}],staticClass:"form-control",attrs:{disabled:t.locked,type:"text"},domProps:{value:t.newTask},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.add(e)},input:function(e){e.target.composing||(t.newTask=e.target.value)}}})])])},w=[],_=s("b76a"),C=s.n(_),T=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("svg",{staticClass:"bi bi-trash",staticStyle:{cursor:"pointer"},attrs:{width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"}},[s("path",{attrs:{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"}}),s("path",{attrs:{"fill-rule":"evenodd",d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4L4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"}})])},x=[],S={name:"TrashCan"},L=S,O=Object(u["a"])(L,T,x,!1,null,null,null),$=O.exports,D={components:{TrashCan:$,draggable:C.a},computed:{list:{get:function(){var t=this;return this.custom?this.day.tasks:this.$store.state.tasks.filter((function(e){return e.date===t.day.id})).sort((function(t,e){return e.completed===t.completed?0:e.completed?-1:1}))},set:function(t){console.log(t)}}},name:"ListCard",props:["day","showdate","custom","locked"],data:function(){return{newTask:"",editing:!1,titleString:""}},methods:{add:function(){this.newTask.length<1||(this.custom?(console.log("customadd reached"),this.day.tasks.push({name:this.newTask,completed:!1}),this.$store.dispatch("updateList",this.day)):this.$store.dispatch("addNewTask",{date:this.day.id,name:this.newTask,completed:!1}),this.newTask="")},toggleCompletion:function(t){this.custom?this.updateCustomCompletion(t):this.$store.dispatch("toggleCompletion",t)},updateCustomCompletion:function(t){var e=this.day.tasks.findIndex((function(e){return e===t}));this.day.tasks[e].completed=!this.day.tasks[e].completed,this.$store.dispatch("updateList",this.day)},remove:function(t){this.custom?this.removeCustom(t):this.$store.dispatch("removeTask",t)},removeCustom:function(t){var e=this.day.tasks.findIndex((function(e){return e===t}));this.day.tasks.splice(e,1),this.$store.dispatch("updateList",this.day)},setupEdit:function(t){var e=this;this.editing=!0,this.titleString=t,this.$nextTick((function(){e.$refs.title.focus(),e.$refs.title.select()}))},cancelEdit:function(){this.finishEditing()},finishEditing:function(){this.editing=!1,this.titleString=""},saveName:function(){this.day.name=this.titleString,this.$store.dispatch("renameList",this.day),this.finishEditing()}}},N=D,j=Object(u["a"])(N,b,w,!1,null,null,null),E=j.exports,M=s("2f62"),P={name:"App",components:{ListCard:E,FooterBar:y,Navigation:f},computed:Object(r["a"])({},Object(M["b"])(["tasks","lists","calendar"])),data:function(){return{}},mounted:function(){this.$store.dispatch("loadTasks"),this.$store.dispatch("loadLists"),this.taskRollover(),this.createCalendar()},methods:{createCalendar:function(){for(var t=new Date,e=0,s=t.getDay()-1,a=s;a<t.getDay()+8;a++){var n=a<0?6:a%7,i=new Date;i.setDate(t.getDate()-1+e);var r=i.getFullYear()+"-"+i.getMonth()+"-"+i.getDate();this.calendar.push({id:r,name:this.$store.state.days[n],isToday:a===t.getDay()}),e++}},taskRollover:function(){var t=this,e=new Date,s=e.getFullYear()+"-"+e.getMonth()+"-"+e.getDate(),a=s+" 00:00";this.$store.state.tasks.filter((function(t){return!1===t.completed})).forEach((function(e){new Date(e.date+" 00:00")<new Date(a)&&(e.date=s,t.$store.dispatch("updateTask",e))}))}}},V=P,I=Object(u["a"])(V,n,i,!1,null,null,null),z=I.exports;s("4989"),s("ab8b");s("927c"),a["a"].config.productionTip=!1,a["a"].use(M["a"]);var F=new M["a"].Store({state:{days:{0:"Sunday",1:"Monday",2:"Tuesday",3:"Wednesday",4:"Thursday",5:"Friday",6:"Saturday"},calendar:[],tasks:[],lists:[],drawerOpen:!1},mutations:{storeNewTask:function(t,e){t.tasks.push(e),this.commit("persistTasks")},updateTask:function(t,e){console.log(e),t.tasks.splice(e[0],1,e[1]),this.commit("persistTasks")},deleteTask:function(t,e){t.tasks.splice(e,1),this.commit("persistTasks")},createList:function(t,e){t.lists.push(e),this.commit("persistLists")},updateList:function(t,e){var s=t.lists.findIndex((function(t){return t.id===e.id}));t.lists.splice(s,1,e),this.commit("persistLists")},persistTasks:function(t){var e=JSON.stringify(t.tasks);localStorage.setItem("tasks",e)},persistLists:function(t){var e=JSON.stringify(t.lists);localStorage.setItem("lists",e)}},getters:{},actions:{addNewTask:function(t,e){var s=t.commit;s("storeNewTask",e)},removeTask:function(t,e){var s=t.state.tasks.findIndex((function(t){return t.name===e.name}));t.commit("deleteTask",s)},toggleCompletion:function(t,e){e.completed=!e.completed;var s=t.state.tasks.findIndex((function(t){return t.name===e.name}));t.commit("updateTask",[s,e])},updateTask:function(t,e){var s=t.state.tasks.findIndex((function(t){return t.name===e.name}));t.commit("updateTask",[s,e])},addList:function(t,e){this.commit("createList",e)},renameList:function(t,e){t.commit("updateList",e)},updateList:function(t,e){t.commit("updateList",e)},loadTasks:function(t){localStorage.tasks&&(t.state.tasks=JSON.parse(localStorage.tasks))},loadLists:function(t){localStorage.lists&&(t.state.lists=JSON.parse(localStorage.lists))}}});new a["a"]({render:function(t){return t(z)},store:F,el:"#app"})},"927c":function(t,e,s){},ad39:function(t,e,s){"use strict";s("3e9f")}});
//# sourceMappingURL=app.b5883197.js.map